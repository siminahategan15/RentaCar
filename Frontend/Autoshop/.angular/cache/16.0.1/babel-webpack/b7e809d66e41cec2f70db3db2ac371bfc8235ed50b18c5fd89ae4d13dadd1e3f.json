{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n    this.is_register = false;\n    this.userName2 = '';\n    this.password2 = '';\n    this.email2 = '';\n    this.firstName2 = '';\n    this.lastName2 = '';\n  }\n  ngOnInit() {\n    this.userService.getUsers().subscribe(res => {\n      this.users = res;\n      console.log(res);\n    });\n  }\n  toggleRegistering() {\n    this.is_register = !this.is_register;\n  }\n  goToLogin() {\n    this.is_register = false;\n  }\n  onSubmit() {\n    let logged_user = {\n      firstName: this.firstName2,\n      lastName: this.lastName2,\n      userName: this.userName2,\n      password: this.password2,\n      email: this.email2\n    };\n    if (this.is_register) {\n      this.userService.createUser(logged_user).subscribe(res => this.users.push(res));\n      alert('User Logged Succesfully');\n      this.router.navigate(['/cars']);\n    } else {\n      const user_exits = this.users.find(u => u.userName == logged_user.userName && u.password == logged_user.password);\n      if (user_exits != undefined) {\n        alert('User Logged Succesfully');\n        this.router.navigate(['/cars']);\n      } else {\n        alert('Wrong Credentials');\n      }\n    }\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"names":["Component","LoginComponent","constructor","userService","router","is_register","userName2","password2","email2","firstName2","lastName2","ngOnInit","getUsers","subscribe","res","users","console","log","toggleRegistering","goToLogin","onSubmit","logged_user","firstName","lastName","userName","password","email","createUser","push","alert","navigate","user_exits","find","u","undefined","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Asus\\Desktop\\Proiect programare Web\\Frontend\\Autoshop\\src\\app\\login\\login.component.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { IUser } from '../users/models/user';\nimport { UsersService } from '../users/services/users.service';\nimport { Route, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  users!: IUser[];\n    is_register:boolean=false;\n    userName2:string='';\n    password2:string='';\n    email2:string='';\n    firstName2:string='';\n    lastName2:string='';\n\n\n    constructor(private userService:UsersService, private router:Router) {}\n    ngOnInit(): void {\n      this.userService.getUsers().subscribe(res => {\n        this.users =res;\n      console.log(res);\n    }\n      );\n     }\n\n  toggleRegistering()\n  {\n    this.is_register=!this.is_register;\n  }\n\n  goToLogin() {\n    this.is_register = false;\n  }\n\n  onSubmit()\n  {\n    let logged_user:IUser={\n      \n      firstName:this.firstName2,\n    lastName:this.lastName2,\n    userName:this.userName2,\n    password:this.password2,\n    email:this.email2\n\n    };\n    if(this.is_register)\n    {\n     \n    this.userService.createUser(logged_user).subscribe(\n      res => this.users.push(res) );\n\n      alert('User Logged Succesfully');\n      this.router.navigate(['/cars']);\n    \n  \n     \n    }else\n    {\n      \n  \n    const user_exits=this.users.find(u=>u.userName==logged_user.userName && u.password==logged_user.password);\n    if(user_exits!=undefined)\n    {\n      alert('User Logged Succesfully');\n      this.router.navigate(['/cars']);\n    }\n    else{\n    alert('Wrong Credentials');\n    }\n\n    }\n\n    \n\n\n\n\n  \n  }\n\n\n}\n"],"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAUzC,IAAaC,cAAc,GAA3B,MAAaA,cAAc;EAUvBC,YAAoBC,WAAwB,EAAUC,MAAa;IAA/C,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAR5D,KAAAC,WAAW,GAAS,KAAK;IACzB,KAAAC,SAAS,GAAQ,EAAE;IACnB,KAAAC,SAAS,GAAQ,EAAE;IACnB,KAAAC,MAAM,GAAQ,EAAE;IAChB,KAAAC,UAAU,GAAQ,EAAE;IACpB,KAAAC,SAAS,GAAQ,EAAE;EAGmD;EACtEC,QAAQA,CAAA;IACN,IAAI,CAACR,WAAW,CAACS,QAAQ,EAAE,CAACC,SAAS,CAACC,GAAG,IAAG;MAC1C,IAAI,CAACC,KAAK,GAAED,GAAG;MACjBE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAClB,CAAC,CACE;EACF;EAEHI,iBAAiBA,CAAA;IAEf,IAAI,CAACb,WAAW,GAAC,CAAC,IAAI,CAACA,WAAW;EACpC;EAEAc,SAASA,CAAA;IACP,IAAI,CAACd,WAAW,GAAG,KAAK;EAC1B;EAEAe,QAAQA,CAAA;IAEN,IAAIC,WAAW,GAAO;MAEpBC,SAAS,EAAC,IAAI,CAACb,UAAU;MAC3Bc,QAAQ,EAAC,IAAI,CAACb,SAAS;MACvBc,QAAQ,EAAC,IAAI,CAAClB,SAAS;MACvBmB,QAAQ,EAAC,IAAI,CAAClB,SAAS;MACvBmB,KAAK,EAAC,IAAI,CAAClB;KAEV;IACD,IAAG,IAAI,CAACH,WAAW,EACnB;MAEA,IAAI,CAACF,WAAW,CAACwB,UAAU,CAACN,WAAW,CAAC,CAACR,SAAS,CAChDC,GAAG,IAAI,IAAI,CAACC,KAAK,CAACa,IAAI,CAACd,GAAG,CAAC,CAAE;MAE7Be,KAAK,CAAC,yBAAyB,CAAC;MAChC,IAAI,CAACzB,MAAM,CAAC0B,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;KAIhC,MACD;MAGA,MAAMC,UAAU,GAAC,IAAI,CAAChB,KAAK,CAACiB,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACT,QAAQ,IAAEH,WAAW,CAACG,QAAQ,IAAIS,CAAC,CAACR,QAAQ,IAAEJ,WAAW,CAACI,QAAQ,CAAC;MACzG,IAAGM,UAAU,IAAEG,SAAS,EACxB;QACEL,KAAK,CAAC,yBAAyB,CAAC;QAChC,IAAI,CAACzB,MAAM,CAAC0B,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;OAChC,MACG;QACJD,KAAK,CAAC,mBAAmB,CAAC;;;EAW5B;CAGD;AA3EY5B,cAAc,GAAAkC,UAAA,EAL1BnC,SAAS,CAAC;EACToC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWrC,cAAc,CA2E1B;SA3EYA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}