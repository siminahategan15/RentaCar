{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet IndexComponentsComponent = class IndexComponentsComponent {\n  constructor(componentService, router) {\n    this.componentService = componentService;\n    this.router = router;\n    this.name2 = '';\n    this.price2 = 0;\n    this.stock2 = 0;\n  }\n  ngOnInit() {\n    this.componentService.getComponents().subscribe(res => {\n      this.components = res;\n      console.log(res);\n    });\n  }\n  showComponent(component) {\n    this.router.navigate([`/components/${component.idComp}`]);\n  }\n  createComponent() {\n    let component = {\n      name: this.name2,\n      price: this.price2,\n      stock: this.stock2\n    };\n    // this will be replaced with form value\n    this.componentService.createComponent(component).subscribe(res => this.components.push(res));\n  }\n  deleteComponent(component) {\n    this.componentService.deleteComponent(component.idComp).subscribe(res => {\n      const componentIndex = this.components.indexOf(component);\n      this.components.splice(componentIndex, 1);\n    });\n  }\n  updateComponent(component) {\n    const updatedComp = {\n      name: this.name2,\n      price: this.price2,\n      stock: this.stock2\n    };\n    this.componentService.updateComponent(component.idComp, updatedComp).subscribe(res => {\n      const componentIndex = this.components.indexOf(component);\n      this.components[componentIndex] = {\n        ...this.components[componentIndex],\n        ...updatedComp\n      };\n    });\n  }\n};\nIndexComponentsComponent = __decorate([Component({\n  selector: 'app-index-components',\n  templateUrl: './index-components.component.html',\n  styleUrls: ['./index-components.component.css']\n})], IndexComponentsComponent);\nexport { IndexComponentsComponent };","map":{"version":3,"names":["Component","IndexComponentsComponent","constructor","componentService","router","name2","price2","stock2","ngOnInit","getComponents","subscribe","res","components","console","log","showComponent","component","navigate","idComp","createComponent","name","price","stock","push","deleteComponent","componentIndex","indexOf","splice","updateComponent","updatedComp","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Asus\\Documents\\AutoShop_HateganS\\Frontend\\Autoshop\\src\\app\\components\\containers\\index-components\\index-components.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { IComponent } from '../../models/component';\nimport { ComponentsService } from '../../services/components.service';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormControl,  FormGroup } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-index-components',\n  templateUrl: './index-components.component.html',\n  styleUrls: ['./index-components.component.css']\n})\nexport class IndexComponentsComponent implements OnInit {\n\n  components!: IComponent[];\n\n  name2:string='';\n  price2:number=0;\n  stock2:number=0;\n\n  constructor(private componentService:ComponentsService, private router: Router) {}\n\n  ngOnInit(): void {\n    this.componentService.getComponents().subscribe(res => {\n      this.components =res;\n    console.log(res);\n  }\n    )\n   }\n\n   showComponent(component: IComponent)\n   {\n    this.router.navigate([`/components/${component.idComp}`]);\n   }\n  \n  \n   createComponent() {\n   \n    let component:IComponent={\n      \n      name:this.name2,\n    price:this.price2,\n    stock:this.stock2\n\n    };\n\n// this will be replaced with form value\n  this.componentService.createComponent(component).subscribe(\n    res => this.components.push(res), \n  );\n}\n\n\n\n  deleteComponent(component: IComponent)\n  {\n    this.componentService.deleteComponent(component.idComp).subscribe(\n      (res: any)=> {\n        const componentIndex = this.components.indexOf(component);\n        this.components.splice(componentIndex,1);\n      }\n    )\n  }\n\n\n  updateComponent(component:IComponent)\n  {\n    const updatedComp: IComponent = {\n      name:this.name2,\n      price:this.price2,\n      stock:this.stock2\n    };\n  \n    this.componentService.updateComponent(component.idComp, updatedComp).subscribe(\n      res => {\n        const componentIndex = this.components.indexOf(component);\n          this.components[componentIndex] = { ...this.components[componentIndex], ...updatedComp };\n        \n      }\n    );\n    } \n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAajD,IAAaC,wBAAwB,GAArC,MAAaA,wBAAwB;EAQnCC,YAAoBC,gBAAkC,EAAUC,MAAc;IAA1D,KAAAD,gBAAgB,GAAhBA,gBAAgB;IAA4B,KAAAC,MAAM,GAANA,MAAM;IAJtE,KAAAC,KAAK,GAAQ,EAAE;IACf,KAAAC,MAAM,GAAQ,CAAC;IACf,KAAAC,MAAM,GAAQ,CAAC;EAEkE;EAEjFC,QAAQA,CAAA;IACN,IAAI,CAACL,gBAAgB,CAACM,aAAa,EAAE,CAACC,SAAS,CAACC,GAAG,IAAG;MACpD,IAAI,CAACC,UAAU,GAAED,GAAG;MACtBE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAClB,CAAC,CACE;EACF;EAEAI,aAAaA,CAACC,SAAqB;IAElC,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,eAAeD,SAAS,CAACE,MAAM,EAAE,CAAC,CAAC;EAC1D;EAGAC,eAAeA,CAAA;IAEd,IAAIH,SAAS,GAAY;MAEvBI,IAAI,EAAC,IAAI,CAACf,KAAK;MACjBgB,KAAK,EAAC,IAAI,CAACf,MAAM;MACjBgB,KAAK,EAAC,IAAI,CAACf;KAEV;IAEL;IACE,IAAI,CAACJ,gBAAgB,CAACgB,eAAe,CAACH,SAAS,CAAC,CAACN,SAAS,CACxDC,GAAG,IAAI,IAAI,CAACC,UAAU,CAACW,IAAI,CAACZ,GAAG,CAAC,CACjC;EACH;EAIEa,eAAeA,CAACR,SAAqB;IAEnC,IAAI,CAACb,gBAAgB,CAACqB,eAAe,CAACR,SAAS,CAACE,MAAM,CAAC,CAACR,SAAS,CAC9DC,GAAQ,IAAG;MACV,MAAMc,cAAc,GAAG,IAAI,CAACb,UAAU,CAACc,OAAO,CAACV,SAAS,CAAC;MACzD,IAAI,CAACJ,UAAU,CAACe,MAAM,CAACF,cAAc,EAAC,CAAC,CAAC;IAC1C,CAAC,CACF;EACH;EAGAG,eAAeA,CAACZ,SAAoB;IAElC,MAAMa,WAAW,GAAe;MAC9BT,IAAI,EAAC,IAAI,CAACf,KAAK;MACfgB,KAAK,EAAC,IAAI,CAACf,MAAM;MACjBgB,KAAK,EAAC,IAAI,CAACf;KACZ;IAED,IAAI,CAACJ,gBAAgB,CAACyB,eAAe,CAACZ,SAAS,CAACE,MAAM,EAAEW,WAAW,CAAC,CAACnB,SAAS,CAC5EC,GAAG,IAAG;MACJ,MAAMc,cAAc,GAAG,IAAI,CAACb,UAAU,CAACc,OAAO,CAACV,SAAS,CAAC;MACvD,IAAI,CAACJ,UAAU,CAACa,cAAc,CAAC,GAAG;QAAE,GAAG,IAAI,CAACb,UAAU,CAACa,cAAc,CAAC;QAAE,GAAGI;MAAW,CAAE;IAE5F,CAAC,CACF;EACD;CAEH;AAtEY5B,wBAAwB,GAAA6B,UAAA,EALpC9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,C,EACWhC,wBAAwB,CAsEpC;SAtEYA,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}