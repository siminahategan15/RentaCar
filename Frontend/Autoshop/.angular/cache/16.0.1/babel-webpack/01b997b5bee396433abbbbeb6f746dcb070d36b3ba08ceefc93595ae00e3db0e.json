{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet IndexCarsComponent = class IndexCarsComponent {\n  constructor(carService, router) {\n    this.carService = carService;\n    this.router = router;\n    //adaugare\n    this.brand2 = '';\n    this.model2 = '';\n    this.productionYear2 = 0;\n    this.stock2 = 0;\n  }\n  ngOnInit() {\n    this.carService.getCars().subscribe(res => {\n      this.cars = res;\n      console.log(res);\n    });\n  }\n  showCar(car) {\n    this.router.navigate([`/cars/${car.idCar}`]);\n  }\n  createCar() {\n    /* const car: ICar={\n     brand: 'VW',\n     model: '343',\n     productionYear:2022,\n     stock: 3\n     };*/\n    let car = {\n      brand: this.brand2,\n      model: this.model2,\n      productionYear: this.productionYear2,\n      stock: this.stock2\n    };\n    // this will be replaced with form value\n    this.carService.createCar(car).subscribe(res => this.cars.push(res));\n  }\n  deleteCar(car) {\n    this.carService.deleteCar(car.idCar).subscribe(res => {\n      const carIndex = this.cars.indexOf(car);\n      this.cars.splice(carIndex, 1);\n    });\n  }\n  updateCar(car) {\n    const updatedCar = {\n      brand: this.brand2,\n      model: this.model2,\n      productionYear: this.productionYear2,\n      stock: this.stock2\n    };\n    this.carService.updateCar(car.idCar, updatedCar).subscribe(res => {\n      const carIndex = this.cars.indexOf(car);\n      this.cars[carIndex] = {\n        ...this.cars[carIndex],\n        ...updatedCar\n      };\n    });\n  }\n};\nIndexCarsComponent = __decorate([Component({\n  selector: 'app-index-cars',\n  templateUrl: './index-cars.component.html',\n  styleUrls: ['./index-cars.component.css']\n})], IndexCarsComponent);\nexport { IndexCarsComponent };","map":{"version":3,"names":["Component","IndexCarsComponent","constructor","carService","router","brand2","model2","productionYear2","stock2","ngOnInit","getCars","subscribe","res","cars","console","log","showCar","car","navigate","idCar","createCar","brand","model","productionYear","stock","push","deleteCar","carIndex","indexOf","splice","updateCar","updatedCar","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Asus\\Documents\\AutoShop_HateganS\\Frontend\\Autoshop\\src\\app\\cars\\containers\\index-cars\\index-cars.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { CarService } from '../../services/car.service';\nimport { ICar } from '../../models/car';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormControl,  FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'app-index-cars',\n  templateUrl: './index-cars.component.html',\n  styleUrls: ['./index-cars.component.css']\n})\nexport class IndexCarsComponent implements OnInit {\n\n  cars!: ICar[];\n//adaugare\n  \n  \n  brand2:string='';\n  model2:string='';\n  productionYear2=0;\n  stock2=0;\n\n\n  constructor(private carService:CarService, private router: Router) {}\n\n  ngOnInit(): void {\n    this.carService.getCars().subscribe(res => {\n      this.cars =res;\n    console.log(res); }\n    )\n   }\n\n   showCar(car: ICar)\n   {\n    this.router.navigate([`/cars/${car.idCar}`]);\n   }\n  \n  \n   createCar() {\n   \n   /* const car: ICar={\n    brand: 'VW',\n    model: '343',\n    productionYear:2022,\n    stock: 3\n    };*/\n\n\n    \n\n    let car:ICar={\n      \n      brand:this.brand2,\n    model:this.model2,\n    productionYear: this.productionYear2,\n    stock:this.stock2\n\n    };\n\n// this will be replaced with form value\n  this.carService.createCar(car).subscribe(\n    res => this.cars.push(res), \n  );\n}\n\n\n\n  deleteCar(car: ICar)\n  {\n    this.carService.deleteCar(car.idCar).subscribe(\n      (res: any)=> {\n        const carIndex = this.cars.indexOf(car);\n        this.cars.splice(carIndex,1);\n      }\n    )\n  }\n\n\n  updateCar(car:ICar)\n  {\n    const updatedCar: ICar = {\n      brand:this.brand2,\n    model:this.model2,\n    productionYear: this.productionYear2,\n    stock:this.stock2\n    };\n  \n    this.carService.updateCar(car.idCar, updatedCar).subscribe(\n      res => {\n        const carIndex = this.cars.indexOf(car);\n          this.cars[carIndex] = { ...this.cars[carIndex], ...updatedCar };\n        \n      }\n    );\n    }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAYjD,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAkB;EAY7BC,YAAoBC,UAAqB,EAAUC,MAAc;IAA7C,KAAAD,UAAU,GAAVA,UAAU;IAAqB,KAAAC,MAAM,GAANA,MAAM;IAT3D;IAGE,KAAAC,MAAM,GAAQ,EAAE;IAChB,KAAAC,MAAM,GAAQ,EAAE;IAChB,KAAAC,eAAe,GAAC,CAAC;IACjB,KAAAC,MAAM,GAAC,CAAC;EAG4D;EAEpEC,QAAQA,CAAA;IACN,IAAI,CAACN,UAAU,CAACO,OAAO,EAAE,CAACC,SAAS,CAACC,GAAG,IAAG;MACxC,IAAI,CAACC,IAAI,GAAED,GAAG;MAChBE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAAE,CAAC,CAClB;EACF;EAEAI,OAAOA,CAACC,GAAS;IAEhB,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,SAASD,GAAG,CAACE,KAAK,EAAE,CAAC,CAAC;EAC7C;EAGAC,SAASA,CAAA;IAET;;;;;;IAUC,IAAIH,GAAG,GAAM;MAEXI,KAAK,EAAC,IAAI,CAAChB,MAAM;MACnBiB,KAAK,EAAC,IAAI,CAAChB,MAAM;MACjBiB,cAAc,EAAE,IAAI,CAAChB,eAAe;MACpCiB,KAAK,EAAC,IAAI,CAAChB;KAEV;IAEL;IACE,IAAI,CAACL,UAAU,CAACiB,SAAS,CAACH,GAAG,CAAC,CAACN,SAAS,CACtCC,GAAG,IAAI,IAAI,CAACC,IAAI,CAACY,IAAI,CAACb,GAAG,CAAC,CAC3B;EACH;EAIEc,SAASA,CAACT,GAAS;IAEjB,IAAI,CAACd,UAAU,CAACuB,SAAS,CAACT,GAAG,CAACE,KAAK,CAAC,CAACR,SAAS,CAC3CC,GAAQ,IAAG;MACV,MAAMe,QAAQ,GAAG,IAAI,CAACd,IAAI,CAACe,OAAO,CAACX,GAAG,CAAC;MACvC,IAAI,CAACJ,IAAI,CAACgB,MAAM,CAACF,QAAQ,EAAC,CAAC,CAAC;IAC9B,CAAC,CACF;EACH;EAGAG,SAASA,CAACb,GAAQ;IAEhB,MAAMc,UAAU,GAAS;MACvBV,KAAK,EAAC,IAAI,CAAChB,MAAM;MACnBiB,KAAK,EAAC,IAAI,CAAChB,MAAM;MACjBiB,cAAc,EAAE,IAAI,CAAChB,eAAe;MACpCiB,KAAK,EAAC,IAAI,CAAChB;KACV;IAED,IAAI,CAACL,UAAU,CAAC2B,SAAS,CAACb,GAAG,CAACE,KAAK,EAAEY,UAAU,CAAC,CAACpB,SAAS,CACxDC,GAAG,IAAG;MACJ,MAAMe,QAAQ,GAAG,IAAI,CAACd,IAAI,CAACe,OAAO,CAACX,GAAG,CAAC;MACrC,IAAI,CAACJ,IAAI,CAACc,QAAQ,CAAC,GAAG;QAAE,GAAG,IAAI,CAACd,IAAI,CAACc,QAAQ,CAAC;QAAE,GAAGI;MAAU,CAAE;IAEnE,CAAC,CACF;EACD;CAEH;AArFY9B,kBAAkB,GAAA+B,UAAA,EAL9BhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACWlC,kBAAkB,CAqF9B;SArFYA,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}